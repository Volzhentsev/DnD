import"core-js/modules/es.array.for-each.js";import"core-js/modules/es.object.to-string.js";import"core-js/modules/web.dom-collections.for-each.js";import"core-js/modules/web.timers.js";import"core-js/modules/es.array.from.js";import"core-js/modules/es.string.iterator.js";var boards=document.querySelector(".boards");function addTask(e){var t,n=e.querySelector(".add__btn"),s=e.querySelector(".add__item-btn"),a=e.querySelector(".cancel__item-btn"),r=e.querySelector(".textarea"),o=e.querySelector(".form");function c(){t="",r.value="",o.classList.remove("active"),n.classList.remove("hidden")}function i(){e.querySelectorAll(".list__item").forEach((function(e){e.querySelector(".delete").addEventListener("click",(function(e){e.target.parentElement.remove()}))}))}n.addEventListener("click",(function(){o.classList.add("active"),n.classList.add("hidden"),s.classList.add("hidden"),r.addEventListener("input",(function(e){(t=e.target.value)?s.classList.remove("hidden"):s.classList.add("hidden")}))})),a.addEventListener("click",c),s.addEventListener("click",(function(){var n=function(){var e=document.createElement("div");return e.classList.add("list__item"),e.draggable=!0,e.innerHTML='\n        <span class="list__item-text">'.concat(t,'</span>\n            <span class="change">✎</span>\n            <span class="save">✔</span>\n            <span class="delete">✖</span>\n        </div>'),e}();e.querySelector(".list").append(n),l(),c(),i()}));var d="";function l(){var e=document.querySelectorAll(".list");document.querySelectorAll(".list__item").forEach((function(t){t.addEventListener("dragstart",(function(){d=t,setTimeout((function(){t.classList.add("hidden")}),0)})),t.addEventListener("dragend",(function(){d="",setTimeout((function(){t.classList.remove("hidden")}),0)})),e.forEach((function(e){e.addEventListener("dragover",(function(e){return e.preventDefault()})),e.addEventListener("dragenter",(function(e){e.preventDefault(),this.style.backgroundColor="rgba(0,0,0, 0.3)"})),e.addEventListener("dragleave",(function(e){e.preventDefault(),this.style.backgroundColor="rgba(0,0,0, 0)"})),e.addEventListener("drop",(function(e){e.preventDefault(),this.style.backgroundColor="rgba(0,0,0,0)",this.append(d)}))}))}))}i(),l()}boards.querySelectorAll(".boards__item").forEach((function(e){return addTask(e)})),window.addEventListener("beforeunload",(function(){var e={todo:[],inProgress:[],done:[]},t=document.querySelector(".todo"),n=document.querySelector(".inprogress"),s=document.querySelector(".done"),a=Array.from(t.querySelectorAll(".list__item-text"));a&&a.forEach((function(t){e.todo.push(t.textContent)}));var r=Array.from(n.querySelectorAll(".list__item-text"));r&&r.forEach((function(t){e.inProgress.push(t.textContent)}));var o=Array.from(s.querySelectorAll(".list__item-text"));o&&o.forEach((function(t){e.done.push(t.textContent)})),localStorage.setItem("data",JSON.stringify(e))})),document.addEventListener("DOMContentLoaded",(function(){var e,t=localStorage.getItem("data"),n=document.querySelector(".todo"),s=document.querySelector(".inprogress"),a=document.querySelector(".done");try{e=JSON.parse(t)}catch(e){console.log(e)}e&&(e.todo.forEach((function(e){var t=document.createElement("div");t.classList.add("list__item"),t.draggable=!0,t.innerHTML='\n                <span class="list__item-text">'.concat(e,'</span>\n                    <span class="change">✎</span>\n                    <span class="save">✔</span>\n                    <span class="delete">✖</span>\n                </div>'),n.querySelector(".list").append(t)})),e.inProgress.forEach((function(e){var t=document.createElement("div");t.classList.add("list__item"),t.draggable=!0,t.innerHTML='\n            <span class="list__item-text">'.concat(e,'</span>\n            <span class="change">✎</span>\n            <span class="save">✔</span>\n            <span class="delete">✖</span>\n            </div>'),s.querySelector(".list").append(t)})),e.inProgress.forEach((function(e){var t=document.createElement("div");t.classList.add("list__item"),t.draggable=!0,t.innerHTML='\n            <span class="list__item-text">'.concat(e,'</span>\n            <span class="change">✎</span>\n            <span class="save">✔</span>\n            <span class="delete">✖</span>\n            </div>'),a.querySelector(".list").append(t)})),n.querySelector(".delete").addEventListener("click",(function(e){e.target.parentElement.remove()})))}));